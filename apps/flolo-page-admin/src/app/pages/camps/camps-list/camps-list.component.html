<div class="flpa-camps-list">
  <p-card header="Camps" subheader="Liste der Camps">
    <div class="p-grid">
      <div class="p-col-12">
        <p-toolbar>
          <div class="p-toolbar-group-left">
            <button pButton pRipple type="button" label="Neu" icon="pi pi-plus"
                    class="p-button-rounded p-button-success"
                    routerLink="form"></button>
          </div>
        </p-toolbar>
      </div>

      <div class="p-col-12">
        <p-table id="camps-table" [value]="camps">
          <ng-template pTemplate="header">
            <tr>
              <th>Name</th>
              <th>Start</th>
              <th>Ende</th>
              <th></th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-camp>
            <tr>
              <td>{{camp.name}}</td>
              <td>{{camp.startDate | date: 'dd/MM/yyyy'}}</td>
              <td>{{camp.endDate | date: 'dd/MM/yyyy'}}</td>
              <td>
                <div class="p-d-flex p-jc-end">
                  <div style="position: relative">
                  <button pButton pRipple type="button" label="" icon="pi pi-users"
                          class="p-button-rounded p-button-primary p-mr-1"
                          [routerLink]="'registrations/' + camp.id"></button>
                    <div style="position: absolute; top: -10px; right: 0;">
                      <p-badge [value]="openRegistrationsCount.get(camp) + ''" severity="danger"></p-badge>
                    </div>
                  </div>
                  <button pButton pRipple type="button" label="" icon="pi pi-pencil"
                          class="p-button-rounded p-button-warning p-mr-1"
                          (click)="editCamp(camp)"></button>
                  <button pButton pRipple type="button" label="" icon="pi pi-trash"
                          class="p-button-rounded p-button-danger"
                          (click)="deleteCamp(camp)"></button>
                </div>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </p-card>
</div>

<p-confirmDialog [style]="{width: '100vw'}" [baseZIndex]="10000"
                 rejectButtonStyleClass="p-button-text"></p-confirmDialog>
